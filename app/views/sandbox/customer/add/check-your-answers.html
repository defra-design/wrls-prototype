{% extends "layouts/_manage.html" %}

<!--set page title-->
{% set title = [data.customers[data.customerID]['name']] + " - Check contact details" %}
<!--set question title-->
{% set qTitle = "<span class='govuk-caption-l'>" + [data.customers[data.customerID]['name']] + "</span> Check contact details" %}



{% block pageTitle %}
{{title}} - GOV.UK
{% endblock %}

<!--content block-->
{% block service %}

<!-- page title -->
<div class="govuk-grid-row">
  <div class="govuk-grid-column-full">

    <form method="post" novalidate>

     <h1 class="govuk-heading-l">{{qTitle | safe}}</h1>

     <h2 class="govuk-heading-m">Contact details</h2>

    {% if data['contactType'] == "person" %}
    {% set nameLink = "select-a-contact-type"%}
    {% else %}
    {% set  nameLink = "select-a-contact-type"%}
    {% endif %}

      {{ govukSummaryList({
    rows: [
    {
      key: {
        text: "Type"
      },
      value: {
        text: data['contactType']|capitalize
      },
      actions: {
        items: [
          {
            href: "select-a-contact-type",
            text: "Change",
            visuallyHiddenText: "contact type"
          }
        ]
      }
    },
      {
        key: {
          text: "Name"
        },
        value: {
          text: data['fullName']
        },
        actions: {
          items: [
            {
              href: nameLink,
              text: "Change",
              visuallyHiddenText: "name"
            }
          ]
        }
      },
      {
        key: {
          text: "Email address"
        },
        value: {
          text: data['emailDetails']
        },
        actions: {
          items: [
            {
              href: "select-how-to-contact",
              text: "Change",
              visuallyHiddenText: "email address"
            }
          ]
        }
      } if data.emailDetails,
      {
        key: {
          text: "Postal address"
        },
        value: {
          text: data['postAddress']
        },
        actions: {
          items: [
            {
              href: "select-how-to-contact",
              text: "Change",
              visuallyHiddenText: "postal address"
            }
          ]
        }
      } if data.postAddress,
      {
        key: {
          text: "Phone number"
        },
        value: {
          text: data['phoneNumber']
        },
        actions: {
          items: [
            {
              href: "select-how-to-contact",
              text: "Change",
              visuallyHiddenText: "phone number"
            }
          ]
        }
      } if data.phoneNumber,
      {
        key: {
          text: "Communication types"
        },
        value: {
          text: data['communicationType']  | formatList | capitalize
        },
        actions: {
          items: [
            {
              href: "select-communication-type",
              text: "Change",
              visuallyHiddenText: "communication type"
            }
          ]
        }
      },
          {
        key: {
          text: "Communications for all licences"
        },
        value: {
          text: data['allLicences'] | capitalize
        },
        actions: {
          items: [
            {
              href: "all-licences",
              text: "Change",
              visuallyHiddenText: "communucations for preference"
            }
          ]
        }
      } if data['allLicences'],
          {
        key: {
          text: "Which licences"
        },
        value: {
          text: data['waaLicences'] | formatList
        },
        actions: {
          items: [
            {
              href: "select-licences",
              text: "Change",
              visuallyHiddenText: "which licences"
            }
          ]
        }
          } if data['waaLicences']
    ]
  }) }}

      {{ govukButton({
  text: "Confirm"
}) }}

    </form>

  </div>
</div>



{% endblock %}
